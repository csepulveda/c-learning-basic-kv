        -:    0:Source:tests/test_protocol.c
        -:    0:Graph:bin/test_protocol-test_protocol.gcno
        -:    0:Data:bin/test_protocol-test_protocol.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include <assert.h>
        -:    2:#include <string.h>
        -:    3:#include <stdio.h>
        -:    4:#include "../src/protocol.h"
        -:    5:
        1:    6:int main() {
        1:    7:    assert(parse_command("PING") == CMD_PING);
        1:    8:    assert(parse_command("SET key=value") == CMD_SET);
        -:    9:
        -:   10:    char k[64], v[64];
        1:   11:    assert(extract_key_value("SET foo=bar", k, v, 64, 64) == 0);
        1:   12:    assert(strcmp(k, "foo") == 0 && strcmp(v, "bar") == 0);
        -:   13:    
        1:   14:    assert(extract_key("GET key", k, 64) == 0);
        1:   15:    assert(strcmp(k, "key") == 0);
        -:   16:
        1:   17:    printf("âœ… Simple protocol tests passed\n");
        1:   18:    return 0;
        -:   19:}
